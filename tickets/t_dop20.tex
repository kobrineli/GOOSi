\textbf{\LARGE dop 19. Основные  характеристики  функциональных  языков  программирования.  Использование  понятий функционального  программирования  (замыкания,  анонимные функции)  в  современных  объектно-ориентированных языках.}

\textbf{Свойства функциональных ЯП:}
\begin{enumerate}
    \item Язык динамический --- связывания происходят во время выполнения.
    \item Нет понятия состояния и присваивания.
    \item Главная операция --- вызов функции.
    \item Главная абстракция --- определение функции.
    \item Функции --- объекты 1 класса, то есть могут быть значениями, вычисляться, передаваться как параметры и возвращаемые значения и т.п.
    \item Структуры данных --- списки (последовательности).
    \item Простая типовая структура.
    \item Понятие переменной соответствует математическому смыслу --- переменная отождествляется со значением, а не хранит его.
\end{enumerate}

\textbf{Понятия функционального программирования}

\begin{itemize}
    \item Замыкание --- это конструкция, которая связывает функцию (функциональное значение) с переменными из объемлющей области видимости.
    Про такие переменные говорят, что они ``захвачены'', их область видимости (scope) не совпадает с областью действия (extent), последняя --- шире.
    Пример:
    \begin{lstlisting}
function initAdder(x) {
    function adder(y) {return x + y}
    return adder
}
    \end{lstlisting}
    \item Анонимная функция (лямбда-функция) --- это ``чистое'' функциональное значение без имени. 
    Его можно передавать как параметр другой функции, возвращать как результат другой функции, в языках с процедурными конструкциями --- присваивать.
\end{itemize}

\textbf{Использование понятий ФП в современных ОО языках}

\textit{C\#}

\begin{lstlisting}
delegate(int x, int y) {return x+y;}
(x,y)=> {return x+y;}
(x,y)=>x+y
\end{lstlisting}

Лямбда-выражения (3 строчка) --- более общая конструкция, чем лямбда-операторы, могут быть преобразованы в стандартный тип деревьев выражений. 
Параметры анонимных делегатов типизированы (тип возвращаемого значения выводится из типа выражения в return). 
А лямбда-конструкции --- нетипизированы.

\textit{Java}

\begin{lstlisting}[language=Java]
(Integer x, Integer y) -> x + y 
\end{lstlisting}
или
\begin{lstlisting}[language=Java]
(Integer x, Integer y) -> return x + y; 
\end{lstlisting}
--- лямбда-выражения. 
Типами параметров лямбда-выражений могут быть только объектные типы, тип возвращаемого значения выводится из возвращаемых выражений.

Пример замыкания:

\begin{lstlisting}[language=Java]
Function<Integer, Integer> initAdder(int x) {
    return (Integer y) -> x + y;
}
\end{lstlisting}

\textbf{Пример на Python}:

\begin{lstlisting}[language=Python]
square = lambda n: n * n   # lambda expression
print(square(4))  # 16
\end{lstlisting}

% -------- source --------
\bigbreak
[\cite{golovin}]